(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[411],{4211:function(e,l,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/createusers",function(){return s(5687)}])},1107:function(e,l,s){"use strict";s.d(l,{z:function(){return r}});var t=s(5893);s(7294);let r=e=>{let{title:l,className:s,type:r,children:a,...n}=e;return(0,t.jsxs)("button",{...n,type:r||"button",className:"shadow-md bg-primary py-2 px-4 rounded-md text-sm font-semibold outline-none text-white ".concat(s),children:[l,a]})}},2923:function(e,l,s){"use strict";s.d(l,{h:function(){return a}});var t=s(5893),r=s(3299);s(7294);let a=e=>{let{onlyLogo:l,className:s}=e,{data:a}=(0,r.useSession)();return(0,t.jsxs)("div",{className:s,children:[(0,t.jsxs)("div",{className:"flex items-center justify-evenly cursor-pointer uppercase ",children:[(0,t.jsx)("div",{className:"flex items-center flex-wrap gap-5",children:!l&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h1",{onClick:()=>{window.location.href="/"},className:"text-white hover:text-primary font-bold",children:"Home"}),(0,t.jsx)("h1",{onClick:()=>{window.location.href="/admin/createusers"},className:"text-white hover:text-primary font-bold",children:"Create Roles"}),(0,t.jsx)("h1",{onClick:()=>{window.location.href="/admin/report"},className:"text-white hover:text-primary font-bold",children:"Report"}),(0,t.jsx)("h1",{onClick:()=>{window.location.href="/booking"},className:"text-white hover:text-primary font-bold",children:"Bookings"})]})}),(0,t.jsx)("div",{className:"",onClick:()=>{window.location.href="/order"},children:(0,t.jsx)("img",{src:"/logo.png",className:"w-[200px] h-[200px] object-contain"})}),(0,t.jsx)("div",{className:"flex items-center flex-wrap gap-5",children:!l&&(0,t.jsxs)(t.Fragment,{children:[(null==a?void 0:a.user.role)==="admin"&&(0,t.jsx)("h1",{onClick:()=>{window.location.href="/admin/adminpage"},className:"text-white hover:text-primary font-bold",children:"Admin"}),(0,t.jsx)("h1",{onClick:()=>{window.location.href="/wage"},className:"text-white hover:text-primary font-bold",children:"Wage Page"}),(0,t.jsx)("h1",{onClick:()=>{window.location.href="/operation"},className:"text-white hover:text-primary font-bold",children:"Operation"}),(0,t.jsx)("h1",{className:" font-bold text-white hover:text-primary",onClick:()=>{(0,r.signOut)()},children:"logout"})]})})]}),(0,t.jsxs)("div",{className:"flex items-center flex-col text-white",children:[(0,t.jsx)("h2",{className:" font-semibold text-3xl ",children:"Reserve Menu & Catering"}),(0,t.jsx)("h5",{className:" font-semibold text-xl ",children:"XYZ place Pin: 1234567"}),!l&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{children:"abc@gmail.com"}),(0,t.jsx)("span",{children:"Contact: 1234567"})]})]})]})}},1175:function(e,l,s){"use strict";var t=s(5893);s(7294);let r=e=>{let{type:l="text",label:s,labelClassName:r,className:a,endIcon:n,...o}=e;return(0,t.jsxs)("div",{className:"grid text-start gap-y-1 ".concat(a),children:[s&&(0,t.jsx)("label",{className:"text-sm font-semibold text-white ".concat(r),children:s}),(0,t.jsxs)("div",{className:" flex items-center border border-gray-300 rounded-md  focus:border-primary shadow-md bg-white ",children:[(0,t.jsx)("input",{...o,type:l,className:" w-full outline-none   p-2"}),n&&n]})]})};l.Z=r},2358:function(e,l,s){"use strict";s.d(l,{El:function(){return t},Lx:function(){return a},pS:function(){return r}});let t={bookingclerk:"bookingclerk",seniorclerk:"seniorclerk",wageclerk:"wageclerk",operationclerk:"operationclerk",admin:"admin"},r="head",a="cleaner"},5687:function(e,l,s){"use strict";s.r(l),s.d(l,{__N_SSP:function(){return _},default:function(){return E}});var t=s(5893),r=s(1107),a=s(1175),n=s(7294),o=s(2923),i=s(2890),c=s(480),d=s(6872),x=s(1862),m=s(1),u=s(1899),h=s(7957),p=s(1733),j=s(3946),w=s(9226),f=s(1425),g=s(6514),v=s(7645);let b=e=>{let{open:l,setopen:s,handleDelete:a}=e;return(0,t.jsxs)(w.Z,{maxWidth:"sm",fullWidth:!0,className:"!w-full",open:l,onClose:s,children:[(0,t.jsx)(v.Z,{}),(0,t.jsx)(g.Z,{children:(0,t.jsx)("h1",{className:"text-center text-2xl font-semibold",children:"Delete User?"})}),(0,t.jsxs)(f.Z,{children:[(0,t.jsx)(r.z,{title:"Cancel",onClick:s}),(0,t.jsx)(r.z,{title:"Delete",onClick:a})]})]})},N=[{value:"bookingclerk",content:"Booking Clerk"},{value:"operationclerk",content:"Operation Clerk"},{value:"seniorclerk",content:"Senior Clerk"},{value:"wageclerk",content:"Wage Clerk"}],k=e=>{let{open:l,setopen:s,user:o}=e,[i,c]=(0,n.useState)(o);(0,n.useEffect)(()=>{c(o)},[o]),console.log(i);let d=e=>{let{value:l,name:s}=e.target;c({...i,[s]:l})},u=async()=>{if(!i.id||!i.email||!i.password||!i.role)return alert("Kindly Fill All The Fields OR Try Again Later.");try{let e=await (0,x.Fx)({password:i.password,role:i.role,email:i.email,id:i.id});alert(e.data.msg),s()}catch(l){let e=(0,m.Y)(l);alert(e)}};return(0,t.jsxs)(w.Z,{maxWidth:"sm",fullWidth:!0,className:"!w-full",open:l,onClose:s,children:[(0,t.jsx)(v.Z,{children:"Update User"}),(0,t.jsx)(g.Z,{children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(a.Z,{name:"email",onChange:d,value:null==i?void 0:i.email}),(0,t.jsx)(a.Z,{name:"password",onChange:d,value:null==i?void 0:i.password}),(0,t.jsx)("select",{name:"role",onChange:d,value:null==i?void 0:i.role,className:"shadow-md w-full border border-gray-300 rounded-md focus:border-primary p-2 outline-none",children:N.map((e,l)=>(0,t.jsx)("option",{value:e.value,children:e.content},l))})]})}),(0,t.jsxs)(f.Z,{children:[(0,t.jsx)(r.z,{title:"Cancel",onClick:s}),(0,t.jsx)(r.z,{title:"Update",onClick:u})]})]})},y=()=>{let[e,l]=(0,n.useState)(),[s,r]=(0,n.useState)(!1),[a,o]=(0,n.useState)([]),[i,c]=(0,n.useState)(!1),d=async()=>{try{let e=await (0,x.xE)({});o(e.data.users)}catch(e){alert((0,m.Y)(e))}};(0,n.useEffect)(()=>{d()},[]);let w=e=>{l(e),r(!s)},f=e=>{navigator.clipboard.writeText("\n            Username: ".concat(e.email,"\n            Password: ").concat(e.password,"\n            ")).then(()=>{alert("Credentials Copied Successfully!")})},g=()=>{r(!1)},v=async()=>{try{if(!e)return;let l=await (0,x.Q3)({id:null==e?void 0:e.id});alert(l.data.msg),r(!1)}catch(l){let e=(0,m.Y)(l);alert(e)}},N=()=>{c(!i)};return console.log("selected item",e),(0,t.jsxs)(t.Fragment,{children:[e&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(k,{user:{id:e.id,email:e.email,password:e.password,role:e.role},open:i,setopen:N}),(0,t.jsx)(b,{handleDelete:v,open:s,setopen:g})]}),(0,t.jsx)("div",{className:"w-full mb-8 overflow-hidden rounded-lg shadow-lg",children:(0,t.jsx)("div",{className:"w-full overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"text-md font-semibold tracking-wide text-left text-gray-900 bg-gray-100 uppercase border-b border-gray-600",children:[(0,t.jsx)("th",{className:"px-4 py-3 uppercase",children:"id"}),(0,t.jsx)("th",{className:"px-4 py-3 uppercase",children:"email"}),(0,t.jsx)("th",{className:"px-4 py-3 uppercase whitespace-nowrap",children:"password"}),(0,t.jsx)("th",{className:"px-4 py-3 uppercase",children:"role"}),(0,t.jsx)("th",{className:"px-4 py-3 uppercase",children:"actions"})]})}),(0,t.jsx)("tbody",{className:"bg-white ",children:a.map((e,s)=>(0,t.jsxs)("tr",{className:"text-gray-700",children:[(0,t.jsx)("td",{className:"px-4 py-3 border",children:e.id}),(0,t.jsx)("td",{className:"px-4 py-3 border",children:e.email}),(0,t.jsx)("td",{className:"px-4 py-3 border",children:e.password}),(0,t.jsx)("td",{className:"px-4 py-3 border",children:e.role}),(0,t.jsxs)("td",{className:"px-4 py-3 border",children:[(0,t.jsx)(j.Z,{onClick:()=>{f(e)},children:(0,t.jsx)(u.Z,{fontSize:"small",className:"text-green-700"})}),(0,t.jsx)(j.Z,{onClick:()=>{l(e),c(!0)},children:(0,t.jsx)(h.Z,{fontSize:"small",className:"text-blue-700"})}),(0,t.jsx)(j.Z,{onClick:()=>{w(e)},children:(0,t.jsx)(p.Z,{fontSize:"small",className:"text-red-700"})})]})]},s))})]})})})]})};var C=s(2358);let Z={username:"",password:"",type:"bookingclerk"},S=()=>{let[e,l]=(0,n.useState)(Z),s=e=>{let{name:s,value:t}=e.target;l(e=>({...e,[s]:t}))},m=async l=>{l.preventDefault();try{let l=await (0,x.su)({password:e.password,role:e.type,email:e.username});alert(l.data.msg)}catch(e){var s,t,r,a;(null==e?void 0:null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.msg)?alert(null==e?void 0:null===(r=e.response)||void 0===r?void 0:null===(a=r.data)||void 0===a?void 0:a.msg):alert(e.message)}};return(0,t.jsxs)("div",{style:{backgroundImage:'url("/bg3.jpg")',backgroundAttachment:"fixed",backgroundSize:"cover"},className:"h-screen overflow-auto",children:[(0,t.jsx)(o.h,{}),(0,t.jsx)("div",{className:"flex items-center justify-center  mt-14 pb-14",children:(0,t.jsxs)("form",{onSubmit:m,className:"grid w-[30%] m-auto gap-y-3 bg-white p-10 shadow-md rounded-md",children:[(0,t.jsx)("h1",{className:"font-bold text-center text-2xl mb-5",children:"Create Users"}),(0,t.jsx)(a.Z,{required:!0,name:"username",onChange:s,placeholder:"Username"}),(0,t.jsx)(a.Z,{required:!0,name:"password",onChange:s,placeholder:"Password",type:"password"}),(0,t.jsx)("h1",{className:"font-semibold mt-2",children:"Select type:"}),(0,t.jsxs)(i.Z,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:e.type,onChange:(s,t)=>{l({...e,type:t})},className:"grid",children:[(0,t.jsx)(c.Z,{value:C.El.bookingclerk,control:(0,t.jsx)(d.Z,{}),label:"Booking Clerk"}),(0,t.jsx)(c.Z,{value:C.El.operationclerk,control:(0,t.jsx)(d.Z,{}),label:"Operation Clerk"}),(0,t.jsx)(c.Z,{value:C.El.seniorclerk,control:(0,t.jsx)(d.Z,{}),label:"Senior Clerk"}),(0,t.jsx)(c.Z,{value:C.El.wageclerk,control:(0,t.jsx)(d.Z,{}),label:"Wage Clerk"})]}),(0,t.jsx)(r.z,{title:"Submit",type:"submit"})]})}),(0,t.jsxs)("div",{className:"my-14 w-[60%] mx-auto",children:[(0,t.jsx)("h1",{className:"text-2xl text-white font-bold text-center mb-3",children:"Users"}),(0,t.jsx)(y,{})]})]})};var _=!0,E=S},1:function(e,l,s){"use strict";s.d(l,{Y:function(){return t}});let t=e=>{var l,s,t,r;return(null==e?void 0:null===(l=e.response)||void 0===l?void 0:null===(s=l.data)||void 0===s?void 0:s.msg)?null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(r=t.data)||void 0===r?void 0:r.msg:e.message}}},function(e){e.O(0,[101,415,945,774,888,179],function(){return e(e.s=4211)}),_N_E=e.O()}]);