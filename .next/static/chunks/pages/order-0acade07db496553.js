(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[941],{1687:function(e,t,r){"use strict";var n=r(4836);t.Z=void 0;var a=n(r(4938)),o=r(5893),i=(0,a.default)((0,o.jsx)("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"AddCircleOutline");t.Z=i},594:function(e,t,r){"use strict";var n=r(4836);t.Z=void 0;var a=n(r(4938)),o=r(5893),i=(0,a.default)((0,o.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.Z=i},8364:function(e,t,r){"use strict";var n=r(4836);t.Z=void 0;var a=n(r(4938)),o=r(5893),i=(0,a.default)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever");t.Z=i},3508:function(e,t,r){"use strict";var n=r(4836);t.Z=void 0;var a=n(r(4938)),o=r(5893),i=(0,a.default)((0,o.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");t.Z=i},4938:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=r(1882)},3946:function(e,t,r){"use strict";r.d(t,{Z:function(){return j}});var n=r(3366),a=r(7462),o=r(7294),i=r(6010),l=r(4780),u=r(1796),s=r(1496),c=r(4502),d=r(7739),m=r(8216),p=r(1588),h=r(4867);function b(e){return(0,h.Z)("MuiIconButton",e)}let v=(0,p.Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]);var f=r(5893);let x=["edge","children","className","color","disabled","disableFocusRipple","size"],g=e=>{let{classes:t,disabled:r,color:n,edge:a,size:o}=e,i={root:["root",r&&"disabled","default"!==n&&`color${(0,m.Z)(n)}`,a&&`edge${(0,m.Z)(a)}`,`size${(0,m.Z)(o)}`]};return(0,l.Z)(i,b,t)},Z=(0,s.ZP)(d.Z,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,"default"!==r.color&&t[`color${(0,m.Z)(r.color)}`],r.edge&&t[`edge${(0,m.Z)(r.edge)}`],t[`size${(0,m.Z)(r.size)}`]]}})(({theme:e,ownerState:t})=>(0,a.Z)({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,u.Fq)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12}),({theme:e,ownerState:t})=>{var r;let n=null==(r=(e.vars||e).palette)?void 0:r[t.color];return(0,a.Z)({},"inherit"===t.color&&{color:"inherit"},"inherit"!==t.color&&"default"!==t.color&&(0,a.Z)({color:null==n?void 0:n.main},!t.disableRipple&&{"&:hover":(0,a.Z)({},n&&{backgroundColor:e.vars?`rgba(${n.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,u.Fq)(n.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===t.size&&{padding:5,fontSize:e.typography.pxToRem(18)},"large"===t.size&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${v.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),N=o.forwardRef(function(e,t){let r=(0,c.Z)({props:e,name:"MuiIconButton"}),{edge:o=!1,children:l,className:u,color:s="default",disabled:d=!1,disableFocusRipple:m=!1,size:p="medium"}=r,h=(0,n.Z)(r,x),b=(0,a.Z)({},r,{edge:o,color:s,disabled:d,disableFocusRipple:m,size:p}),v=g(b);return(0,f.jsx)(Z,(0,a.Z)({className:(0,i.Z)(v.root,u),centerRipple:!0,focusRipple:!m,disabled:d,ref:t,ownerState:b},h,{children:l}))});var j=N},7450:function(e,t,r){"use strict";var n=r(9064);t.Z=n.Z},9296:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var n=function(e,t=166){let r;function n(...a){let o=()=>{e.apply(this,a)};clearTimeout(r),r=setTimeout(o,t)}return n.clear=()=>{clearTimeout(r)},n}},1882:function(e,t,r){"use strict";r.r(t),r.d(t,{capitalize:function(){return a.Z},createChainedFunction:function(){return o.Z},createSvgIcon:function(){return i.Z},debounce:function(){return l.Z},deprecatedPropType:function(){return u},isMuiElement:function(){return c},ownerDocument:function(){return d.Z},ownerWindow:function(){return m.Z},requirePropFactory:function(){return p},setRef:function(){return h},unstable_ClassNameGenerator:function(){return j},unstable_useEnhancedEffect:function(){return b},unstable_useId:function(){return v.Z},unsupportedProp:function(){return f},useControlled:function(){return x.Z},useEventCallback:function(){return g.Z},useForkRef:function(){return Z.Z},useIsFocusVisible:function(){return N.Z}});var n=r(7078),a=r(8216),o=r(7450),i=r(8169),l=r(9296),u=function(e,t){return()=>null},s=r(7294),c=function(e,t){return s.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)},d=r(8038),m=r(5340);r(7462);var p=function(e,t){return()=>null},h=r(7960).Z,b=r(6600).Z,v=r(7909),f=function(e,t,r,n,a){return null},x=r(2627),g=r(2068),Z=r(1705),N=r(8791);let j={configure:e=>{n.Z.configure(e)}}},8038:function(e,t,r){"use strict";var n=r(7094);t.Z=n.Z},5340:function(e,t,r){"use strict";var n=r(8290);t.Z=n.Z},7909:function(e,t,r){"use strict";var n=r(7579);t.Z=n.Z},5943:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/order",function(){return r(4838)}])},4838:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return C}});var n=r(5893),a=r(2923),o=r(7294),i=r(1175),l=r(4460),u=r(7119),s=r(1687),c=r(3946),d=r(8364),m=r(1107),p=r(1),h=r(1862),b=r(4823),v=r(3299),f=r(7632),x=r(3508),g=r(594),Z=r(864),N=r(9929);let j={bookedBy:"",bookerMobileNumber:"",bookingId:"",cleaner:"",departureDate:"",departureTime:"",driverName:"",function:"breakfast",functionDate:"",headMobileNumber:"",headName:"",mobile:"",name:"",PAX:"",serviceTime:"",specialInstruction:"",vehicleNumber:"",venue:"",words:"",onion:!1,garlic:!1},y=[{value:"breakfast",content:"breakfast"},{value:"dinner",content:"dinner"},{value:"hightea",content:"hightea"},{value:"lunch",content:"lunch"}],w=()=>{let{data:e}=(0,v.useSession)(),[t,r]=(0,o.useState)([]),[w,C]=(0,o.useState)(j),[k,S]=(0,o.useState)([]),[z,M]=(0,o.useState)([]),D=e=>{let{name:t,value:r}=e.target;C({...w,[t]:r})},I=e=>{let t=[];if(!e.target.value){S([]);return}u.w.forEach(r=>{r.sub.forEach(n=>{n.title.toLowerCase().includes(e.target.value.toLowerCase())&&t.push({item:n.title,title:r.title})})}),S(t)},E=(e,t)=>{let{value:r,name:n}=t.target,a=[...z].map((t,a)=>e===a?{...t,[n]:r}:t);M(a)},q=e=>{let t=[];z.forEach((r,n)=>{n!==e&&t.push(r)}),M(t)},T=async e=>{e.preventDefault();let t=!0;if(z.forEach(e=>{(!e.counter||0>=Number(e.counter)||Number(e.counter)>5)&&(t=!1)}),!t)return alert("kindly select number of counters for all items and maximum of 5.");if(w.bookingId=String((0,f.Z)()).substring(0,8),0===z.length)return alert("Kindly Select Atleast One Item.");console.log({selectedItems:z,formData:w});try{let e=w.departureTime.split(":"),t=(0,b.C)(new Date(w.departureDate),Number(e[0]),Number(e[1])),r=w.serviceTime.split(":"),n=(0,b.C)(new Date(w.functionDate),Number(r[0]),Number(r[1])),a=await (0,h.RA)({formdata:{bookedBy:w.bookedBy,bookerMobileNumber:w.bookerMobileNumber,bookingId:w.bookingId,cleaner:w.cleaner,departureDate:new Date(w.departureDate),departureTime:new Date(t),driverName:w.driverName,function:w.function,functionDate:new Date(w.functionDate),headMobileNumber:w.headMobileNumber,headName:w.headName,mobile:w.mobile,name:w.name,PAX:w.PAX,serviceTime:n,specialInstruction:w.specialInstruction,vehicleNumber:w.vehicleNumber,venue:w.venue,words:w.words,id:"",onion:void 0!==w.onion?w.onion:null,garlic:void 0!==w.garlic?w.garlic:null},selectedItems:z});alert("created successfully!"),window.location.href="/admin/menueprint/".concat(a.data.id)}catch(t){let e=(0,p.Y)(t);alert(e)}};return(0,o.useEffect)(()=>{if(u.w){let e=[];u.w.forEach(t=>{t.sub.forEach(t=>{e.push(t.title)})}),r(e)}},[u.w]),(0,n.jsxs)("div",{style:{backgroundImage:'url("/bg3.jpg")',backgroundAttachment:"fixed",backgroundSize:"cover"},className:"h-screen overflow-auto",children:[(0,n.jsxs)("form",{onSubmit:T,children:[(0,n.jsx)(a.h,{}),(0,n.jsxs)("div",{className:"grid grid-cols-2 w-[60%] mx-auto gap-5",children:[(0,n.jsx)(i.Z,{required:!0,label:"Function Date",name:"functionDate",onChange:D,value:w.functionDate,type:"date"}),(0,n.jsx)(i.Z,{required:!0,label:"PAX",name:"PAX",onChange:D,value:w.PAX,type:"text"}),(0,n.jsx)(i.Z,{required:!0,label:"Booked By",name:"bookedBy",onChange:D,value:w.bookedBy,type:"text"}),(0,n.jsx)(i.Z,{required:!0,label:"Booker Mobile Number",name:"bookerMobileNumber",onChange:D,value:w.bookerMobileNumber,type:"text"}),(0,n.jsx)(i.Z,{required:!0,label:"Cleaner",name:"cleaner",onChange:D,value:w.cleaner,type:"text"}),(0,n.jsx)(i.Z,{required:!0,label:"Departure Date",name:"departureDate",onChange:D,value:w.departureDate,type:"date"}),(0,n.jsx)(i.Z,{required:!0,label:"Departure Time",name:"departureTime",onChange:D,value:w.departureTime,type:"time"}),(0,n.jsx)(i.Z,{required:!0,label:"Driver Name",name:"driverName",onChange:D,value:w.driverName,type:"text"}),(0,n.jsx)(l.P,{required:!0,label:"Function",name:"function",onChange:D,value:w.function,options:y}),(0,n.jsx)(i.Z,{required:!0,label:"Head Mobile Number",name:"headMobileNumber",onChange:D,value:w.headMobileNumber,type:"text"}),(0,n.jsx)(i.Z,{required:!0,label:"Head Name",name:"headName",onChange:D,value:w.headName,type:"text"}),(0,n.jsx)(i.Z,{required:!0,label:"Mobile",name:"mobile",onChange:D,value:w.mobile,type:"text"}),(0,n.jsx)(i.Z,{required:!0,label:"Name",name:"name",onChange:D,value:w.name,type:"text"}),(0,n.jsx)(i.Z,{required:!0,label:"Service Time",name:"serviceTime",onChange:D,value:w.serviceTime,type:"time"}),(0,n.jsx)(i.Z,{required:!0,label:"Special Instruction",name:"specialInstruction",onChange:D,value:w.specialInstruction,type:"text"}),(0,n.jsx)(i.Z,{required:!0,label:"Vehicle Number",name:"vehicleNumber",onChange:D,value:w.vehicleNumber,type:"text"}),(0,n.jsx)(i.Z,{required:!0,label:"Venue",name:"venue",onChange:D,value:w.venue,type:"text"}),(0,n.jsx)(i.Z,{required:!0,label:"Words",name:"words",onChange:D,value:w.words,type:"text"}),(0,n.jsx)(l.P,{required:!0,label:"Onion",onChange:e=>{C(t=>({...t,onion:"true"===e.target.value}))},value:String(w.onion),options:[{content:"false",value:"false"},{content:"true",value:"true"}]}),(0,n.jsx)(l.P,{required:!0,label:"Garlic",onChange:e=>{C(t=>({...t,garlic:"true"===e.target.value}))},value:String(w.garlic),options:[{content:"false",value:"false"},{content:"true",value:"true"}]})]}),(0,n.jsxs)("div",{className:"grid gap-5 w-[90%] mx-auto   mt-10 pb-10",children:[(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(i.Z,{className:"w-[30%]",endIcon:(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)(x.Z,{}),k.length>0&&(0,n.jsx)(c.Z,{onClick:()=>{S([])},children:(0,n.jsx)(g.Z,{})})]}),label:"Search Items",onFocus:e=>{let t=[];e.target.value||(u.w.forEach(e=>{e.sub.forEach(r=>{t.push({item:r.title,title:e.title})})}),S(t))},onChange:I}),0!==k.length&&(0,n.jsx)("div",{className:"bg-white p-2 mt-2 rounded h-[300px] overflow-auto",children:k.map((e,t)=>(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("h1",{className:"border p-1 flex-1 bg-white rounded-md",children:e.item}),(0,n.jsx)(c.Z,{onClick:()=>{let t={item:e.item,counter:"0",comment:""};M([...z,t])},children:(0,n.jsx)(s.Z,{})})]}))})]}),(0,n.jsx)("div",{className:"w-full mb-8 overflow-hidden rounded-lg shadow-lg bg-white",children:(0,n.jsx)("div",{className:"w-full overflow-x-auto",children:(0,n.jsxs)("table",{className:"w-full",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{className:"text-md font-semibold tracking-wide text-left text-gray-900 bg-gray-100 uppercase border-b border-gray-600",children:[(0,n.jsx)("th",{className:"px-4 py-3 uppercase",children:"no."}),(0,n.jsx)("th",{className:"px-4 py-3 uppercase",children:"item"}),(0,n.jsx)("th",{className:"px-4 py-3 uppercase whitespace-nowrap",children:"counter"}),(0,n.jsx)("th",{className:"px-4 py-3 uppercase",children:"comment"}),(0,n.jsx)("th",{className:"px-4 py-3 uppercase",children:"actions"})]})}),(0,n.jsx)("tbody",{className:"bg-white",children:z.map((e,t)=>(0,n.jsxs)("tr",{className:"text-gray-700",children:[(0,n.jsx)("td",{className:"px-4 py-3 border",children:t+1}),(0,n.jsx)("td",{className:"px-4 py-3 border",children:e.item}),(0,n.jsx)("td",{className:"px-4 py-3 border",children:(0,n.jsx)("input",{name:"counter",type:"number",value:e.counter,onChange:e=>{E(t,e)},className:"w-[100px] outline-none border p-1"})}),(0,n.jsx)("td",{className:"px-4 py-3 border",children:(0,n.jsx)("textarea",{name:"comment",className:"outline-none border p-1",onChange:e=>{E(t,e)},placeholder:"Enter Comments...",value:e.comment})}),(0,n.jsx)("td",{className:"px-4 py-3 border",children:(0,n.jsx)(c.Z,{onClick:()=>{q(t)},children:(0,n.jsx)(d.Z,{className:"text-red-700"})})})]},t))})]})})}),(0,n.jsxs)("div",{className:"space-x-3",children:[(0,n.jsx)(m.z,{title:"Submit",type:"submit"}),(0,n.jsx)(m.z,{onClick:()=>{window.open("mailto:")},title:"Email",type:"button"})]})]})]}),(null==e?void 0:e.user.role)==="admin"&&(0,n.jsxs)("div",{className:"mb-40",children:[(0,n.jsx)(N.d,{}),(0,n.jsx)(Z.m,{})]})]})};var C=!0;t.default=w}},function(e){e.O(0,[251,101,415,298,349,542,774,888,179],function(){return e(e.s=5943)}),_N_E=e.O()}]);