(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[721],{8036:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/wage",function(){return t(8840)}])},4828:function(e,a,t){"use strict";t.d(a,{B:function(){return p}});var r=t(5893),s=t(66);t(7294);var n=t(9226),l=t(7645),c=t(8456),d=t(6514),i=t(1425),o=t(9368),x=t(1107),h=t(1780),u=t(1),m=t(1862);let p=()=>{let e=(0,s.TL)(),a=(0,s.CG)(e=>e.contractor),t=()=>{e((0,h.LG)())},o=()=>{e((0,h.g5)({categoryID:a.contractorCategoryID,contractorID:a.selectedToUpdateUserId}))},p=()=>{e((0,h.Dw)(a.contractorCategoryID))},N=async()=>{try{if(!a.contractorCategoryID)return alert("Kindly try again later.");await (0,m.xl)({categoryID:a.contractorCategoryID}),alert("Contractor removed successfully.")}catch(a){let e=(0,u.Y)(a);alert(e)}};return(0,r.jsxs)(n.Z,{maxWidth:"md",fullWidth:!0,onClose:t,open:a.showUpdateContractorModal,children:[(0,r.jsx)(l.Z,{children:"Edit Contractors"}),a.loadingContractors?(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsx)(c.Z,{})}):(0,r.jsxs)(d.Z,{children:[a.updatedSuccessfullyMessage&&(0,r.jsx)("h1",{className:"text-center font-bold text-green-600",children:a.updatedSuccessfullyMessage}),(0,r.jsx)("div",{children:a.contractors.length>0?a.contractors.map((e,a)=>(0,r.jsx)(j,{...e})):(0,r.jsx)("h1",{className:"text-center fonbold text-red-600 ",children:"No Contractors available"})})]}),(0,r.jsxs)(i.Z,{children:[(0,r.jsx)(x.z,{onClick:p,title:"GET OTHER CONTRACTORS",className:"bg-green-700"}),(0,r.jsx)(x.z,{onClick:N,title:"REMOVE CURRENT CONTRACTOR",className:"text-red-200 bg-red-700"}),(0,r.jsx)(x.z,{title:"CANCEL",onClick:()=>{e((0,h.LG)())}}),(0,r.jsx)(x.z,{onClick:o,title:"UPDATE"})]})]})},j=e=>{let a=(0,s.CG)(e=>e.contractor),t=(0,s.TL)();return(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(o.Z,{onChange:()=>{t((0,h.u1)({userId:e.id}))},checked:a.selectedToUpdateUserId===e.id}),(0,r.jsx)("h1",{children:e.name})]}),(0,r.jsx)("h1",{children:e.item})]})}},9142:function(e,a,t){"use strict";t.d(a,{V:function(){return p}});var r=t(5893),s=t(7294),n=t(1),l=t(1107),c=t(1175),d=t(6143);let i=async e=>await d.o.post("/operation/updateoperationmenue",e);var o=t(1664),x=t.n(o),h=t(66),u=t(1780),m=t(4828);let p=e=>{let{menues:a,isWagePageRequest:t=!1}=e,s=(0,h.TL)(),n=(0,h.CG)(e=>e.contractor),l=e=>{s((0,u.ve)({cid:e})),s((0,u.FI)(e))};return(0,r.jsxs)("div",{className:"w-full mb-8 overflow-hidden rounded-lg shadow-lg",children:[n.showUpdateContractorModal&&(0,r.jsx)(m.B,{}),(0,r.jsx)("div",{className:"w-full overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"text-md font-semibold tracking-wide text-left text-gray-900 bg-gray-100 uppercase border-b border-gray-600 whitespace-nowrap",children:[(0,r.jsx)("th",{className:"px-4 py-3 uppercase",children:"booking id"}),(0,r.jsx)("th",{className:"px-4 py-3 uppercase",children:"Categories"}),(0,r.jsx)("th",{className:"px-4 py-3 uppercase",children:"function date"}),(0,r.jsx)("th",{className:"px-4 py-3 uppercase",children:"Head Name"}),(0,r.jsx)("th",{className:"px-4 py-3 uppercase",children:"Head Mobile Number"}),(0,r.jsx)("th",{className:"px-4 py-3 uppercase",children:"Driver Name"}),(0,r.jsx)("th",{className:"px-4 py-3 uppercase",children:"Vehicle Number"}),(0,r.jsx)("th",{className:"px-4 py-3 uppercase",children:"cleaner"}),(0,r.jsx)("th",{className:"px-4 py-3 uppercase",children:"actions"})]})}),(0,r.jsx)("tbody",{className:"bg-white whitespace-nowrap",children:a.map((e,a)=>{var s;return(0,r.jsxs)("tr",{className:"text-gray-700",children:[(0,r.jsx)("td",{className:"px-4 py-3 border",children:e.bookingId}),(0,r.jsx)("td",{className:"px-4 py-3 border space-y-4",children:null===(s=e.Categories)||void 0===s?void 0:s.map((e,a)=>{var t;return(0,r.jsxs)("div",{className:" grid gap-y-2 bg-gray-100 p-[1px]",children:[(0,r.jsxs)("span",{className:"font-bold text-lg underline underline-offset-4",children:[" ","Item: ",e.itemName]}),(0,r.jsxs)("span",{onClick:()=>{l(e.id)},className:"font-bold text-lg underline underline-offset-4 cursor-pointer hover:text-green-500",children:["Contractor: ",null===(t=e.contractor)||void 0===t?void 0:t.name]}),(0,r.jsxs)("span",{className:"font-bold text-lg underline underline-offset-4",children:[" ","Comment: ",e.comment]})]},a)})}),(0,r.jsx)("td",{className:"px-4 py-3 border",children:new Date(e.functionDate).toLocaleDateString()}),(0,r.jsx)(j,{isWagePageRequest:t,val:e})]},a)})})]})})]})},j=e=>{let{val:a,isWagePageRequest:t}=e,[d,o]=(0,s.useState)(!1),[h,u]=(0,s.useState)(a),m=e=>{let{name:a,value:t}=e.target;u({...h,[a]:t})},p=async()=>{try{await i({data:{cleaner:h.cleaner,driverName:h.driverName,headMobileNumber:h.headMobileNumber,headName:h.headName,vehicleNumber:h.vehicleNumber,id:h.id}}),alert("Updated Successfully!")}catch(a){let e=(0,n.Y)(a);alert(e)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("td",{className:"px-4 py-3 border",children:d?(0,r.jsx)(c.Z,{name:"headName",value:h.headName,onChange:m}):h.headName}),(0,r.jsx)("td",{className:"px-4 py-3 border",children:d?(0,r.jsx)(c.Z,{name:"headMobileNumber",value:h.headMobileNumber,onChange:m}):h.headMobileNumber}),(0,r.jsx)("td",{className:"px-4 py-3 border",children:d?(0,r.jsx)(c.Z,{name:"driverName",value:h.driverName,onChange:m}):h.driverName}),(0,r.jsx)("td",{className:"px-4 py-3 border",children:d?(0,r.jsx)(c.Z,{name:"vehicleNumber",value:h.vehicleNumber,onChange:m}):h.vehicleNumber}),(0,r.jsx)("td",{className:"px-4 py-3 border",children:d?(0,r.jsx)(c.Z,{name:"cleaner",value:h.cleaner,onChange:m}):h.cleaner}),(0,r.jsx)("td",{className:"px-4 py-3 border space-x-3",children:t?(0,r.jsx)(l.z,{title:"Edit",onClick:()=>{window.location.href="/wage/edit/".concat(a.id)}}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.z,{onClick:()=>{o(!d)},title:"Edit"}),(0,r.jsx)(l.z,{title:"Update",onClick:p,disabled:!d}),(0,r.jsx)(x(),{href:"/admin/menueprint/".concat(a.id),children:(0,r.jsx)(l.z,{title:"Print"})})]})})]})}},8840:function(e,a,t){"use strict";t.r(a),t.d(a,{__N_SSP:function(){return m}});var r=t(5893),s=t(2923),n=t(1862),l=t(7294),c=t(1),d=t(1107),i=t(1175),o=t(9226),x=t(6259),h=t(9142);let u=()=>{let[e,a]=(0,l.useState)([]),[t,u]=(0,l.useState)(""),[m,p]=(0,l.useState)(!1),[j,N]=(0,l.useState)(""),[g,b]=(0,l.useState)(""),f=async()=>{try{if(t||j&&g){let e=await (0,n.Cq)({startdate:j,enddate:g});a(e.data.menues)}}catch(e){return(0,c.Y)(e.message)}},v=()=>{p(!1)};return(0,r.jsxs)("div",{style:{backgroundImage:'url("/bg3.jpg")',backgroundAttachment:"fixed",backgroundSize:"cover"},className:"h-screen overflow-auto",children:[(0,r.jsx)(s.h,{}),(0,r.jsxs)("div",{className:"px-5 space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(i.Z,{type:"date",label:"Start Date",onChange:e=>{N(e.target.value)},value:j}),(0,r.jsx)(i.Z,{type:"date",onChange:e=>{b(e.target.value)},label:"End Date",value:g})]}),(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsx)(d.z,{title:"Search",onClick:()=>{f()}})}),(0,r.jsx)(h.V,{isWagePageRequest:!0,menues:e})]}),(0,r.jsx)(o.Z,{fullWidth:!0,maxWidth:"md",open:m,onClose:v,children:(0,r.jsx)(x.o,{})})]})};var m=!0;a.default=u}},function(e){e.O(0,[101,415,29,664,349,774,888,179],function(){return e(e.s=8036)}),_N_E=e.O()}]);