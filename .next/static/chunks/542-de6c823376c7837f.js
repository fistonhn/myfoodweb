(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[542],{4460:function(e,t,a){"use strict";a.d(t,{P:function(){return l}});var s=a(5893);a(7294);let l=e=>{let{options:t,value:a,className:l,label:r,labelClassName:i,...n}=e;return(0,s.jsxs)("div",{className:"grid text-start w-[150px]",children:[r&&(0,s.jsx)("label",{className:"text-sm font-semibold text-white ".concat(i),children:r}),(0,s.jsx)("select",{...n,value:a,className:"shadow-md w-full border border-gray-300 rounded-md focus:border-primary p-2  outline-none ".concat(l),children:t.map((e,t)=>(0,s.jsx)("option",{value:e.value,children:e.content},t))})]})}},864:function(e,t,a){"use strict";a.d(t,{m:function(){return w}});var s=a(5893),l=a(1862),r=a(7294),i=a(1),n=a(1107),d=a(1175),c=a(9226),o=a(6259),u=a(7645),m=a(9368),p=a(1425),h=a(6143);let x=async e=>await h.o.post("/menue/seniorclerkupdatemenue",e);var b=a(4460),y=a(7119);let N=e=>{console.log("input date",e);let t=new Date(e);t.setMonth(t.getMonth()+1),t=new Date(t);let a=t.getFullYear(),s=t.getMonth().toString().padStart(2,"0"),l=t.getDate().toString().padStart(2,"0");t.getHours().toString().padStart(2,"0"),t.getMinutes().toString().padStart(2,"0");let r="".concat(a,"-").concat(s,"-").concat(l);return console.log(r),r};var j=a(4823);let v=e=>{let{onClose:t,open:a,category:d}=e,[o,h]=(0,r.useState)([]),[x,b]=(0,r.useState)(),y=async()=>{try{let e=await (0,l.oK)({item:null==d?void 0:d.itemName});h(e.data.contractors),console.log({setselectedContractores:e.data.contractors})}catch(t){let e=(0,i.Y)(t);alert(e)}};(0,r.useEffect)(()=>{(null==d?void 0:d.itemName)&&y()},[null==d?void 0:d.itemName]);let N=async()=>{if(!x)return alert("Kindly select one contractor.");if(d)try{let e=await (0,l.Bc)({categoryId:d.id,contractorid:x.id});alert(e.data.msg)}catch(t){let e=(0,i.Y)(t);alert(e)}};return(0,s.jsxs)(c.Z,{open:a,maxWidth:"md",fullWidth:!0,onClose:t,children:[(0,s.jsx)(u.Z,{children:"Available Contractors"}),o.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(m.Z,{checked:e.id===(null==x?void 0:x.id),onChange:()=>{b(e)}}),(0,s.jsx)("h1",{className:"text-lg font-bold",children:e.name})]},t)),(0,s.jsx)(p.Z,{children:(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)(n.z,{title:"Cancel",onClick:t}),(0,s.jsx)(n.z,{title:"Update",onClick:N})]})})]})},f=e=>{let{menues:t}=e,[a,l]=(0,r.useState)(!1),[i,n]=(0,r.useState)([]),[d,c]=(0,r.useState)(),[o,u]=(0,r.useState)(),m=()=>{u(void 0),u(void 0),l(!1)};return(0,s.jsxs)("div",{className:"w-full  overflow-hidden rounded-lg shadow-lg ",children:[a&&(0,s.jsx)(v,{open:a,onClose:m,category:o}),(0,s.jsx)("div",{className:"w-full overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"text-md font-semibold tracking-wide text-left text-gray-900 bg-gray-100 uppercase border-b border-gray-600 whitespace-nowrap",children:[(0,s.jsx)("th",{className:"px-4 py-3 uppercase",children:"booking id"}),(0,s.jsx)("th",{className:"px-4 py-3 uppercase",children:"Mobile"}),(0,s.jsx)("th",{className:"px-4 py-3 uppercase",children:"name"}),(0,s.jsx)("th",{className:"px-4 py-3 uppercase",children:"booked by"}),(0,s.jsx)("th",{className:"px-4 py-3 uppercase",children:"booker Mobile Number"}),(0,s.jsx)("th",{className:"px-4 py-3 uppercase",children:"cleaner"}),(0,s.jsx)("th",{className:"px-4 py-3 uppercase",children:"driver Name"}),(0,s.jsx)("th",{className:"px-4 py-3 uppercase",children:"function"}),(0,s.jsx)("th",{className:"px-4 py-3 uppercase",children:"head Mobile Number"}),(0,s.jsx)("th",{className:"px-4 py-3 uppercase",children:"head Name"}),(0,s.jsx)("th",{className:"px-4 py-3 uppercase",children:"PAX"}),(0,s.jsx)("th",{className:"px-4 py-3 uppercase",children:"special Instruction"}),(0,s.jsx)("th",{className:"px-4 py-3 uppercase",children:"vehicle Number"}),(0,s.jsx)("th",{className:"px-4 py-3 uppercase",children:"venue"}),(0,s.jsx)("th",{className:"px-4 py-3 uppercase",children:"words"}),(0,s.jsx)("th",{className:"px-4 py-3 uppercase",children:"function date"}),(0,s.jsx)("th",{className:"px-4 py-3 uppercase",children:"service time"}),(0,s.jsx)("th",{className:"px-4 py-3 uppercase",children:"departure date"}),(0,s.jsx)("th",{className:"px-4 py-3 uppercase",children:"departure time"}),(0,s.jsx)("th",{className:"px-4 py-3 uppercase",children:"actions"})]})}),(0,s.jsx)("tbody",{className:"bg-white whitespace-nowrap",children:t.map((e,t)=>(0,s.jsxs)("tr",{className:"text-gray-700",children:[(0,s.jsx)("td",{className:"px-4 py-3 border",children:e.bookingId}),(0,s.jsx)(g,{val:e})]},t))})]})})]})},g=e=>{let{val:t}=e,[a,l]=(0,r.useState)(!1),[c,o]=(0,r.useState)(t),u=e=>{let{name:t,value:a}=e.target;console.log(a),o({...c,[t]:a})},m=async()=>{try{let e=c.departureTime;if((null==c?void 0:c.departureTime)&&!c.departureTime.toString().includes("Z")){let t=c.departureTime.split(":");e=(0,j.C)(new Date(c.departureDate),Number(t[0]),Number(t[1]))}let t=c.serviceTime;if((null==c?void 0:c.serviceTime)&&!c.serviceTime.toString().includes("Z")){let e=c.serviceTime.split(":");t=(0,j.C)(new Date(c.functionDate),Number(e[0]),Number(e[1]))}await x({data:{bookingId:c.bookingId,id:c.id,mobile:c.mobile,name:c.name,bookedBy:c.bookedBy,bookerMobileNumber:c.bookerMobileNumber,cleaner:c.cleaner,driverName:c.driverName,function:c.function,headMobileNumber:c.headMobileNumber,headName:c.headName,PAX:c.PAX,specialInstruction:c.specialInstruction,vehicleNumber:c.vehicleNumber,venue:c.venue,words:c.words,functionDate:new Date(c.functionDate),serviceTime:t,departureTime:e,departureDate:new Date(c.departureDate)}}),alert("Updated Successfully!")}catch(t){let e=(0,i.Y)(t);alert(e)}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("td",{className:"px-4 py-3 border",children:a?(0,s.jsx)(d.Z,{name:"mobile",value:c.mobile,onChange:u}):c.mobile}),(0,s.jsx)("td",{className:"px-4 py-3 border",children:a?(0,s.jsx)(d.Z,{name:"name",value:c.name,onChange:u}):c.name}),(0,s.jsx)("td",{className:"px-4 py-3 border",children:a?(0,s.jsx)(d.Z,{name:"bookedBy",value:c.bookedBy,onChange:u}):c.bookedBy}),(0,s.jsx)("td",{className:"px-4 py-3 border",children:a?(0,s.jsx)(d.Z,{name:"bookerMobileNumber",value:c.bookerMobileNumber,onChange:u}):c.bookerMobileNumber}),(0,s.jsx)("td",{className:"px-4 py-3 border",children:c.cleaner}),(0,s.jsx)("td",{className:"px-4 py-3 border",children:c.driverName}),(0,s.jsx)("td",{className:"px-4 py-3 border",children:a?(0,s.jsx)(b.P,{options:Object.values(y.x).map(e=>({content:e,value:e})),name:"function",value:c.function,onChange:u}):c.function}),(0,s.jsx)("td",{className:"px-4 py-3 border",children:c.headMobileNumber}),(0,s.jsx)("td",{className:"px-4 py-3 border",children:c.headName}),(0,s.jsx)("td",{className:"px-4 py-3 border",children:a?(0,s.jsx)(d.Z,{name:"PAX",value:c.PAX,onChange:u}):c.PAX}),(0,s.jsx)("td",{className:"px-4 py-3 border",children:a?(0,s.jsx)(d.Z,{name:"specialInstruction",value:c.specialInstruction,onChange:u}):c.specialInstruction}),(0,s.jsx)("td",{className:"px-4 py-3 border",children:c.vehicleNumber}),(0,s.jsx)("td",{className:"px-4 py-3 border",children:a?(0,s.jsx)(d.Z,{name:"venue",value:c.venue,onChange:u}):c.venue}),(0,s.jsx)("td",{className:"px-4 py-3 border",children:a?(0,s.jsx)(d.Z,{name:"words",value:c.words,onChange:u}):c.words}),(0,s.jsx)("td",{className:"px-4 py-3 border",children:a?(0,s.jsx)(d.Z,{type:"date",name:"functionDate",value:"string"==typeof c.functionDate?c.functionDate:N(c.functionDate),onChange:u}):new Date(c.functionDate).toLocaleDateString()}),(0,s.jsx)("td",{className:"px-4 py-3 border",children:a?(0,s.jsx)(d.Z,{type:"time",name:"serviceTime",value:c.serviceTime,onChange:u}):new Date(c.serviceTime).toLocaleTimeString()}),(0,s.jsx)("td",{className:"px-4 py-3 border",children:a?(0,s.jsx)(d.Z,{type:"date",name:"departureDate",value:c.departureDate,onChange:u}):new Date(c.departureDate).toLocaleDateString()}),(0,s.jsx)("td",{className:"px-4 py-3 border",children:a?(0,s.jsx)(d.Z,{type:"time",name:"departureTime",value:c.departureTime,onChange:u}):new Date(c.departureTime).toLocaleTimeString()}),(0,s.jsxs)("td",{className:"px-4 py-3 border space-x-3",children:[(0,s.jsx)(n.z,{onClick:()=>{l(!a)},title:"Edit"}),(0,s.jsx)(n.z,{title:"Update",onClick:m,disabled:!a})]})]})},w=()=>{let[e,t]=(0,r.useState)(!0),[a,u]=(0,r.useState)([]),[m,p]=(0,r.useState)(""),[h,x]=(0,r.useState)(!1),b=async()=>{try{let e=await (0,l.WC)({search:m});u(e.data.menues)}catch(t){let e=(0,i.Y)(t.message);alert(e)}},y=()=>{x(!1)};return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"px-5 space-y-2",children:[(0,s.jsx)("div",{className:"flex items-center ",children:(0,s.jsx)(d.Z,{className:"min-w-[50%]",label:"Search",placeholder:"Booking ID/Phone Number/Customer Name...",onChange:e=>{p(e.target.value)},type:"text",value:m})}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(n.z,{title:"Search",onClick:()=>{b()}}),(0,s.jsx)(n.z,{title:"Reset",onClick:()=>{p(""),u([])}})]}),a.length>0?(0,s.jsx)(f,{menues:a}):(0,s.jsx)("div",{className:"py-4",children:(0,s.jsx)("h1",{className:"text-center text-white uppercase font-bold",children:"No records found"})})]}),(0,s.jsx)(c.Z,{fullWidth:!0,maxWidth:"md",open:h,onClose:y,children:(0,s.jsx)(o.o,{allowEdit:e})})]})}},9929:function(e,t,a){"use strict";a.d(t,{d:function(){return m}});var s=a(5893),l=a(7294),r=a(1175),i=a(4105),n=a(1862),d=a(4823),c=a(1),o=a(7632),u=a(8456);let m=()=>{let[e,t]=(0,l.useState)(!1),[a,m]=(0,l.useState)(null),p=e=>{let t=[];return Object.entries(e).forEach(a=>{let[s,l]=a;s.startsWith("item")&&t.push({comment:"",counter:"".concat(e["counter".concat(s.slice(4))]),item:"".concat(l)})}),t.length>0&&t},h=async e=>{let a=[];e.forEach(e=>{let t=p(e);if("boolean"==typeof t)return alert("kindly select the items and counters.");console.log("results==>",t);let s={id:"",bookingId:String((0,o.Z)()).substring(0,8)};if(!e.departureTime||!e.serviceTime||!e.departureDate||!e.functionDate)return alert("service time | service date | departureDate| departureTime is required.");let l=e.departureTime.split(":"),r=(0,d.C)(new Date(e.departureDate),Number(l[0]),Number(l[1])),i=e.serviceTime.split(":"),n=(0,d.C)(new Date(e.functionDate),Number(i[0]),Number(i[1]));return e.bookedBy?(s.bookedBy=e.bookedBy,e.bookerMobileNumber)?(s.bookerMobileNumber=e.bookerMobileNumber,e.cleaner)?(s.cleaner=e.cleaner,e.departureDate)?(s.departureDate=new Date(e.departureDate),e.departureTime)?(s.departureTime=r,e.driverName)?(s.driverName=e.driverName,e.function)?(s.function=e.function,e.functionDate)?(s.functionDate=new Date(e.functionDate),e.headMobileNumber)?(s.headMobileNumber=e.headMobileNumber,e.headName)?(s.headName=e.headName,e.mobile)?(s.mobile=e.mobile,e.name)?(s.name=e.name,e.PAX)?(s.PAX=e.PAX,e.serviceTime)?(s.serviceTime=n,e.specialInstruction)?(s.specialInstruction=e.specialInstruction,e.vehicleNumber)?(s.vehicleNumber=e.vehicleNumber,e.venue)?(s.venue=e.venue,e.words)?(s.words=e.words,void a.push({_data:s,cat:t})):alert("words is Required."):alert("venue is Required."):alert("vehicleNumber is Required."):alert("specialInstruction is Required."):alert("serviceTime is Required."):alert("PAX is Required."):alert("name is Required."):alert("mobile is Required."):alert("headName is Required."):alert("headMobileNumber is Required."):alert("functionDate is Required."):alert("function is Required."):alert("driverName is Required."):alert("departureTime is Required."):alert("departureDate is Required."):alert("cleaner is Required."):alert("bookerMobileNumber is Required."):alert("Booked By is Required.")});try{t(!0);for(let e=0;e<a.length;e++)await (0,n.RA)({formdata:a[e]._data,selectedItems:a[e].cat});t(!1),alert("Menue uploaded successfully.")}catch(a){let e=(0,c.Y)(a);alert(e),t(!1)}},x=e=>{if(e.preventDefault(),e.target.files){let t=new FileReader;t.onload=t=>{var a;let s=null===(a=t.target)||void 0===a?void 0:a.result,l=i.ij(s,{type:"array"}),r=l.SheetNames[0],n=l.Sheets[r],d=i.P6.sheet_to_json(n);console.log({json:d}),h(d),e.target.value=""},t.readAsArrayBuffer(e.target.files[0])}};return(0,s.jsxs)("div",{className:"flex items-center px-4 space-x-3",children:[(0,s.jsx)(r.Z,{label:"Upload Menues",type:"file",onChange:e=>{e.target.files&&x(e)}}),e&&(0,s.jsx)(u.Z,{className:"mt-6 !text-white"})]})}},7119:function(e,t,a){"use strict";a.d(t,{w:function(){return s},x:function(){return l}});let s=[{title:"Garma Garam",sub:[{title:"Alootkki",days:"",stalls:""},{title:"Chilla",days:"",stalls:""},{title:"Green Samosa",days:"",stalls:""},{title:"Red Laddu",days:"",stalls:""},{title:"Red Chhat",days:"",stalls:""},{title:"Laddu",days:"",stalls:""},{title:"Pink Bol",days:"",stalls:""}]},{title:"Cold Collection",sub:[{title:"Gol Gappe",days:"",stalls:""},{title:"Raju Kachori",days:"",stalls:""},{title:"Bada",days:"",stalls:""},{title:"Puri",days:"",stalls:""},{title:"Chadap",days:"",stalls:""},{title:"Best Tasty",days:"",stalls:""},{title:"Pink Bol",days:"",stalls:""}]},{title:"Garma Garam",sub:[{title:"Alootkki",days:"",stalls:""},{title:"Chilla",days:"",stalls:""},{title:"Green Samosa",days:"",stalls:""},{title:"Red Laddu",days:"",stalls:""},{title:"Red Chhat",days:"",stalls:""},{title:"Laddu",days:"",stalls:""},{title:"Pink Bol",days:"",stalls:""}]},{title:"Deserts",sub:[{title:"Rasgulla",days:"",stalls:""},{title:"Sponge",days:"",stalls:""},{title:"Kulfi",days:"",stalls:""},{title:"Rasmalai",days:"",stalls:""}]},{title:"Combos",sub:[{title:"Pao Bhaji",days:"",stalls:""},{title:"Xyz",days:"",stalls:""},{title:"Abcd",days:"",stalls:""},{title:"Wxyz",days:"",stalls:""},{title:"Daal Roti",days:"",stalls:""}]},{title:"South Special",sub:[{title:"Idli",days:"",stalls:""},{title:"Sambhar",days:"",stalls:""},{title:"uppma",days:"",stalls:""},{title:"Sweet",days:"",stalls:""}]}],l={breakfast:"Breakfast",dinner:"Dinner",hightea:"Hightea",lunch:"Lunch"}},4823:function(e,t,a){"use strict";a.d(t,{C:function(){return s}});let s=(e,t,a)=>{let s=new Date(e);return s.setHours(t),s.setMinutes(a),s.setSeconds(0),s}},5103:function(){},2061:function(){}}]);