"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[349],{1107:function(e,a,t){t.d(a,{z:function(){return l}});var s=t(5893);t(7294);let l=e=>{let{title:a,className:t,type:l,children:r,...n}=e;return(0,s.jsxs)("button",{...n,type:l||"button",className:"shadow-md bg-primary py-2 px-4 rounded-md text-sm font-semibold outline-none text-white ".concat(t),children:[a,r]})}},6259:function(e,a,t){t.d(a,{o:function(){return d}});var s=t(5893),l=t(7294),r=t(1),n=t(1862),c=t(1175),i=t(1107);let d=e=>{let{allowEdit:a=!0}=e,[t,c]=(0,l.useState)(!1),[d,o]=(0,l.useState)([]),x=async()=>{try{let e=await (0,n.ar)();o(e.data.contractors)}catch(a){let e=(0,r.Y)(a);alert(e)}};(0,l.useEffect)(()=>{x()},[]);let h=async()=>{try{await (0,n.g0)({contractors:d}),alert("Contractors Uploaded Successfully.")}catch(a){let e=(0,r.Y)(a);alert(e)}};return(0,s.jsx)("div",{className:"relative w-full mb-8 overflow-hidden rounded-lg shadow-lg ".concat(t&&"pt-12"),children:(0,s.jsxs)("div",{className:"w-full overflow-x-auto",children:[t&&(0,s.jsx)(i.z,{className:"absolute top-1 left-[50%]",title:"Update",onClick:h}),(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"text-md font-semibold tracking-wide text-left text-gray-900 bg-gray-100 uppercase border-b border-gray-600 whitespace-nowrap",children:[(0,s.jsx)("th",{className:"px-4 py-3 uppercase",children:"id"}),(0,s.jsx)("th",{className:"px-4 py-3 uppercase",children:"name"}),(0,s.jsx)("th",{className:"px-4 py-3 uppercase",children:"item"}),(0,s.jsx)("th",{className:"px-4 py-3 uppercase ",children:"age"}),(0,s.jsx)("th",{className:"px-4 py-3 uppercase",children:"wage"}),(0,s.jsx)("th",{className:"px-4 py-3 uppercase",children:"group"}),(0,s.jsx)("th",{className:"px-4 py-3 uppercase",children:"area"}),(0,s.jsx)("th",{className:"px-4 py-3 uppercase",children:"phone"}),(0,s.jsx)("th",{className:"px-4 py-3 uppercase",children:"address"}),(0,s.jsx)("th",{className:"px-4 py-3 uppercase",children:"identity number"}),(0,s.jsx)("th",{className:"px-4 py-3 uppercase",children:"Docs"}),(0,s.jsx)("th",{className:"px-4 py-3 uppercase",children:"actions"})]})}),(0,s.jsx)("tbody",{className:"bg-white whitespace-nowrap",children:d.map((e,a)=>(0,s.jsxs)("tr",{className:"text-gray-700",children:[(0,s.jsx)("td",{className:"px-4 py-3 border",children:e.id}),(0,s.jsx)(p,{data:e})]},a))})]})]})})},o=e=>{let{contractor:a}=e,[t,d]=(0,l.useState)(null),[o,x]=(0,l.useState)(""),p=l.useRef(null),h=async()=>{if(!o)return alert("kindly enter the title of the document.");if(!t)return alert("kindly select the file.");try{await (0,n.N5)({name:o,file:t,contractorid:a.id}),alert("Upload successfully!"),p.current&&(p.current.value="")}catch(a){let e=(0,r.Y)(a);alert(e)}};return(0,s.jsx)("td",{className:"px-4 py-3 border",children:(0,s.jsxs)("div",{className:"grid gap-y-2",children:[(0,s.jsx)(c.Z,{className:"w-[200px]",placeholder:"Title...",value:o,onChange:e=>{x(e.target.value)}}),(0,s.jsx)("input",{ref:p,type:"file",onChange:async e=>{if(null===e.target.files)return;let a=e.target.files[0];d(a)}}),(0,s.jsx)(i.z,{onClick:h,title:"Upload"})]})})},x=e=>{let{doc:a}=e;return(0,s.jsxs)("div",{className:"grid ga",children:[(0,s.jsx)("h1",{children:a.name}),(0,s.jsx)("a",{href:a.url,className:"text-blue-700 text-sm",target:"_blank",children:a.url})]})},p=e=>{var a;let{data:t}=e,[d,p]=(0,l.useState)(t),[h,m]=(0,l.useState)(!1),u=(e,a)=>{p(t=>({...t,[e]:a}))},j=async()=>{try{await (0,n.r1)({data:d}),alert("Contractor updated successfully."),m(!1)}catch(a){let e=(0,r.Y)(a);alert(e)}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("td",{className:"px-4 py-3 border",children:h?(0,s.jsx)(c.Z,{className:"!w-[200px]",value:d.name,onChange:e=>{u("name",e.target.value)}}):d.name}),(0,s.jsx)("td",{className:"px-4 py-3 border",children:h?(0,s.jsx)(c.Z,{className:"!w-[200px]",value:d.item,onChange:e=>{u("item",e.target.value)}}):d.item}),(0,s.jsx)("td",{className:"px-4 py-3 border",children:h?(0,s.jsx)(c.Z,{className:"!w-[200px]",value:d.age,onChange:e=>{u("age",e.target.value)}}):d.age}),(0,s.jsx)("td",{className:"px-4 py-3 border",children:h?(0,s.jsx)(c.Z,{className:"!w-[200px]",value:d.wage,onChange:e=>{u("wage",e.target.value)}}):d.wage}),(0,s.jsx)("td",{className:"px-4 py-3 border",children:h?(0,s.jsx)(c.Z,{className:"!w-[200px]",value:d.group,onChange:e=>{u("group",e.target.value)}}):d.group}),(0,s.jsx)("td",{className:"px-4 py-3 border",children:h?(0,s.jsx)(c.Z,{className:"!w-[200px]",value:d.area,onChange:e=>{u("area",e.target.value)}}):d.area}),(0,s.jsx)("td",{className:"px-4 py-3 border",children:h?(0,s.jsx)(c.Z,{className:"!w-[200px]",value:(null==d?void 0:d.phone)?d.phone:"",onChange:e=>{u("phone",e.target.value)}}):d.phone}),(0,s.jsx)("td",{className:"px-4 py-3 border",children:h?(0,s.jsx)(c.Z,{className:"!w-[200px]",value:(null==d?void 0:d.address)?d.address:"",onChange:e=>{u("address",e.target.value)}}):d.address}),(0,s.jsx)("td",{className:"px-4 py-3 border",children:h?(0,s.jsx)(c.Z,{className:"!w-[200px]",value:(null==d?void 0:d.identitynumber)?d.identitynumber:"",onChange:e=>{u("identitynumber",e.target.value)}}):d.identitynumber}),(0,s.jsxs)("td",{className:"px-4 py-3 border",children:[h&&(0,s.jsx)(o,{contractor:d}),!h&&d.documents&&d.documents.length>0&&(null==d?void 0:null===(a=d.documents)||void 0===a?void 0:a.map((e,a)=>(0,s.jsx)(x,{doc:e},a)))]}),h?(0,s.jsxs)("td",{className:"px-4 py-3 border space-x-4",children:[(0,s.jsx)(i.z,{title:"Save",onClick:j}),(0,s.jsx)(i.z,{title:"Cancel",onClick:()=>{m(!1)}})]}):(0,s.jsx)("td",{className:"px-4 py-3 border",children:(0,s.jsx)(i.z,{title:"Edit",onClick:()=>{m(!0)}})})]})}},2923:function(e,a,t){t.d(a,{h:function(){return r}});var s=t(5893),l=t(3299);t(7294);let r=e=>{let{onlyLogo:a,className:t}=e,{data:r}=(0,l.useSession)();return(0,s.jsxs)("div",{className:t,children:[(0,s.jsxs)("div",{className:"flex items-center justify-evenly cursor-pointer uppercase ",children:[(0,s.jsx)("div",{className:"flex items-center flex-wrap gap-5",children:!a&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h1",{onClick:()=>{window.location.href="/"},className:"text-white hover:text-primary font-bold",children:"Home"}),(0,s.jsx)("h1",{onClick:()=>{window.location.href="/admin/createusers"},className:"text-white hover:text-primary font-bold",children:"Create Roles"}),(0,s.jsx)("h1",{onClick:()=>{window.location.href="/admin/report"},className:"text-white hover:text-primary font-bold",children:"Report"}),(0,s.jsx)("h1",{onClick:()=>{window.location.href="/booking"},className:"text-white hover:text-primary font-bold",children:"Bookings"})]})}),(0,s.jsx)("div",{className:"",onClick:()=>{window.location.href="/order"},children:(0,s.jsx)("img",{src:"/logo.png",className:"w-[200px] h-[200px] object-contain"})}),(0,s.jsx)("div",{className:"flex items-center flex-wrap gap-5",children:!a&&(0,s.jsxs)(s.Fragment,{children:[(null==r?void 0:r.user.role)==="admin"&&(0,s.jsx)("h1",{onClick:()=>{window.location.href="/admin/adminpage"},className:"text-white hover:text-primary font-bold",children:"Admin"}),(0,s.jsx)("h1",{onClick:()=>{window.location.href="/wage"},className:"text-white hover:text-primary font-bold",children:"Wage Page"}),(0,s.jsx)("h1",{onClick:()=>{window.location.href="/operation"},className:"text-white hover:text-primary font-bold",children:"Operation"}),(0,s.jsx)("h1",{className:" font-bold text-white hover:text-primary",onClick:()=>{(0,l.signOut)()},children:"logout"})]})})]}),(0,s.jsxs)("div",{className:"flex items-center flex-col text-white",children:[(0,s.jsx)("h2",{className:" font-semibold text-3xl ",children:"Reserve Menu & Catering"}),(0,s.jsx)("h5",{className:" font-semibold text-xl ",children:"XYZ place Pin: 1234567"}),!a&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{children:"abc@gmail.com"}),(0,s.jsx)("span",{children:"Contact: 1234567"})]})]})]})}},1175:function(e,a,t){var s=t(5893);t(7294);let l=e=>{let{type:a="text",label:t,labelClassName:l,className:r,endIcon:n,...c}=e;return(0,s.jsxs)("div",{className:"grid text-start gap-y-1 ".concat(r),children:[t&&(0,s.jsx)("label",{className:"text-sm font-semibold text-white ".concat(l),children:t}),(0,s.jsxs)("div",{className:" flex items-center border border-gray-300 rounded-md  focus:border-primary shadow-md bg-white ",children:[(0,s.jsx)("input",{...c,type:a,className:" w-full outline-none   p-2"}),n&&n]})]})};a.Z=l},1:function(e,a,t){t.d(a,{Y:function(){return s}});let s=e=>{var a,t,s,l;return(null==e?void 0:null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.msg)?null==e?void 0:null===(s=e.response)||void 0===s?void 0:null===(l=s.data)||void 0===l?void 0:l.msg:e.message}}}]);